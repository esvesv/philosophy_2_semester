"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4164],{46372:function(e,t,n){n(67294);var o=n(9008),a=n.n(o),i=n(21435),r=n(94184),s=n.n(r),l=n(35944);t.Z=function(e){var t=e.buttonText,n=e.buttonClassName,o=e.buttonTextClassName,r=function(){window.AsanaAnalytics.trackGTM("login_google_auth"),window.AsanaAnalytics.trackGTM("signup_google_auth"),(0,i.ZP)({oauth_action_url:window.AsanaHelpers.appUrl("/-/oauth2callback"),target_url:window.AsanaHelpers.appUrl(),is_create:!0,xsrf_token:window.AsanaHelpers.getOrCreateXsrfToken(),window:window})};return(0,l.BX)(l.HY,{children:[(0,l.tZ)(a(),{children:(0,l.tZ)("style",{children:'\n    @font-face {\n      font-family: "Roboto";\n      src: url("https://dk07rojba4tkh.cloudfront.net/roboto/Roboto-Medium.ttf") format(\'truetype\');\n      font-weight: 500;\n      font-display: block;\n    }\n  '})}),(0,l.BX)("a",{className:s()("gmail-button-continue exp-gmail-button-continue",n),title:t,tabIndex:0,onClick:function(){r()},onKeyDown:function(e){"Enter"===e.key&&r()},children:[(0,l.tZ)("div",{className:"google-sso-verification-button-background",children:(0,l.tZ)("img",{className:"gmail-button-icon-continue",srcSet:"https://luna1.co/020de6.png 1x, https://luna1.co/328201.png 2x",src:"https://luna1.co/020de6.png",alt:"Google logo"})}),(0,l.tZ)("div",{className:"gmail-button-text-wrapper-continue",children:(0,l.tZ)("span",{className:s()("gmail-button-text-continue",o),children:t})})]})]})}},14164:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var o=n(59499),a=n(16835),i=n(67294),r=n(13507),s=n(80754),l=n(9268),c=n(94184),u=n.n(c),p=n(56987),g=n(94158),d=n(76224),m=n(11400),b=n(16744),f=n(38893),h=n(65831),_=n(35944);function w(e){var t=(0,i.useRef)(null),n=(0,i.useRef)(null),o=(0,d.Z)("homepageEmailSignup").isInVariant,r=(0,d.Z)("emailCtaCopy"),c=r.isInControl,w=r.isInVariant,y=r.variant,C=(0,b.ZP)(),k=(0,a.Z)(C,1)[0],Z={0:"Sign up",1:"Sign up now",2:"Sign up free",3:"Get Started"},x=(0,d.Z)("signUpFlowCopyOptimization").isInVariant,A=(0,d.Z)("removeGatedTrialCta").isInVariant,E=(0,h.Z)("removeGatedTrialCta"),S=(0,f.Z)().isDesktop&&k&&A&&E;var T=(0,l.Tc)(e.ctaCompleteSignup);switch(e.context){case"modal-try":case"modal-trial":e.ctaSignupTrial;break;case"get-started":e.ctaSignupWithoutFree;break;case"modal-signup":case"modal-buy-premium":case"modal-buy-business":e.ctaCompleteSignup;break;default:e.ctaSignupEmail}return(0,i.useEffect)((function(){n.current.focus()}),[]),(0,_.BX)(_.HY,{children:[(0,_.BX)("form",{noValidate:!0,className:u()("signupForm",e.context&&"-".concat(e.context),"hidden-logged-in",e.class_notrans),onSubmit:function(n){n.preventDefault(),t.current&&("modal-signup"!==e.context&&window.AsanaAnalytics.trackGTM("start_free_trial_button"),"modal-signup"===e.context&&window.AsanaHelpers.enterFreeSignupFlow(),window.AsanaHelpers.signupWithEmail(t.current))},ref:t,children:[(0,_.tZ)("div",{className:u()("signupForm-container",{"-center":e.center}),children:(0,_.BX)("div",{className:"signupForm-row",children:[(0,_.BX)("div",{className:"signupForm-email",children:[(0,_.tZ)("input",{type:"hidden",name:"name",value:""}),(0,_.tZ)("input",{className:u()("input","input--email","signup-email",e.context&&"signup-email-".concat(e.context)),placeholder:e.emailPlaceholder,name:"email",type:"email",autoFocus:!!e.autofocus_notrans,ref:n}),(0,_.tZ)("span",{id:"signup-email__invalid-domain",className:"input-message input-message--error",children:e.ctaSignupDomainInvalid}),(0,_.tZ)("span",{id:"signup-email__bad_format",className:"input-message input-message--error",children:(0,_.tZ)(l.ZP,{html:e.ctaSignupBadFormat})}),e.ctaSignupDomainClose&&(0,_.tZ)("span",{id:"signup-email__close-domain",className:"input-message input-message--error",children:(0,_.tZ)(l.ZP,{html:e.ctaSignupDomainClose})})]}),(0,_.BX)(v,{className:"signupForm-submit submit -large signup-submit-".concat(e.context," ").concat(e.button_classname),onClick:function(){if((c||w)&&(0,m.LQ)("CTA Engagement",{eventCategory:"CTA Engagement",eventAction:"Campaign - Hero CTA Clicks",eventLabel:Z[y]}),AsanaHelpers){var t=(0,p.stringsToFunction)(e.click_notrans);t&&t()}},children:[(0,_.BX)("span",{className:"signupForm-submit-text js-signupForm-submit--try",children:[(0,_.tZ)("span",{children:x?e.ctaSignupEmail:o?"Get started":w&&!k?Z[y]:"modal-try"===e.context||"modal-trial"===e.context?e.ctaSignupTrial:"get-started"===e.context?e.ctaSignupWithoutFree:"modal-signup"===e.context||"modal-buy-premium"===e.context||"modal-buy-business"===e.context||"buy-page"===e.context?T:e.ctaSignupEmail}),(0,_.tZ)("span",{children:e.ctaSignupProgress})]}),(0,_.BX)("span",{className:"signupForm-submit-text js-signupForm-submit--buy",children:[(0,_.tZ)("span",{children:e.ctaCompleteSignup}),(0,_.tZ)("span",{children:e.ctaSignupProgress})]})]})]})}),!0===e.premium_link&&(0,_.BX)("p",{children:["Learn more about ",(0,_.tZ)(s.default,{href:"/premium",children:"Asana Premium"})]})]}),"modal-try"!==e.context&&"modal-signup"!==e.context&&"modal-trial"!==e.context&&"modal-buy"!==e.context&&"modal-get-started"!==e.context&&"modal-buy-premium"!==e.context&&"modal-buy-business"!==e.context&&(0,_.tZ)(_.HY,{children:S?(0,_.tZ)("a",{href:E.ctaHref,className:"button -large invisible-logged-out -mobile-full",children:E.ctaText}):(0,_.tZ)("a",{href:(0,g.T)("/-/upgrade?trial=true"),className:"button -large invisible-logged-out -mobile-full",children:e.ctaSignupEmail})})]})}function v(e){var t=e.onClick,n=e.className,o=e.children,a=(0,i.useState)(!1),r=a[0],s=a[1];return(0,i.useEffect)((function(){var e=function(){return s(!0)},t=function(e){e.persisted&&s(!1)};return window.addEventListener("pagehide",e),window.addEventListener("pageshow",t),function(){window.removeEventListener("pagehide",e),window.removeEventListener("pageshow",t)}}),[]),(0,_.BX)("button",{className:u()(n,{"-request":r}),onClick:t,children:[(0,_.tZ)("span",{className:"signupForm-submit-icon",children:(0,_.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,_.tZ)("circle",{cx:"8",cy:"8",r:"7.5"})})}),o]})}var y=n(46372),C=n(55319),k=n(66045),Z=n(71487);var x=(0,C.Z)("div",{target:"e1a20g1y1"})("margin:20px 0 0 0;max-width:432px;.form-option{margin:0;padding:",Z.N.SPACING_16," 0;font-size:12px;color:",k.D.NEUTRAL_4,";&::before,&::after{width:43%;border-color:",k.D.NEUTRAL_4,";}}a.gmail-button-continue{margin:0;border-color:",k.D.NEUTRAL_5,";background-color:transparent;transition:0.25s border-color;&:hover{background-color:transparent;border-color:",k.D.NEUTRAL_9,";transition:0.25s border-color;}&.-bg-blue{background-color:#4285f4;}}span.gmail-button-text-continue{&.-white{color:#fff;}}"),A=(0,C.Z)("span",{target:"e1a20g1y0"})({name:"50zrmy",styles:"text-transform:uppercase"}),E=n(21435);var S={name:"1h23up",styles:"#credential_picker_container{display:block!important;& iframe{width:100%!important;}}"},T=function(e){var t=e.fallbackComponent,n=(0,i.useRef)(null),o=(0,i.useState)(!1),a=o[0],r=o[1],s=(0,i.useContext)(N).setIsLoading,l=function(e){(0,m.LQ)("CTA Engagement",{eventCategory:"CTA Engagement",eventAction:"Hero CTA Click",eventLabel:"Google OTS"});var t={id:e.credential,is_create:!0,target_url:window.AsanaHelpers.appUrl(),xsrf_token:window.AsanaHelpers.getOrCreateXsrfToken()};s(!0);var n=(0,E.qb)(window.AsanaHelpers.appUrl(E.Hq),t);try{window.location.href=n}catch(o){window.AsanaErrors.notifyException(o),s(!1)}},c=function(){window&&window.google&&(window.google.accounts.id.initialize({client_id:E.wL,cancel_on_tap_outside:!1,state_cookie_domain:"asana.com",prompt_parent_id:"google-one-tap-experiment",callback:l}),window.google.accounts.id.prompt((function(e){var t=e.isSkippedMoment(),n=e.getSkippedReason();if(t&&"user_cancel"===n)return(0,m.LQ)("CTA Engagement",{eventCategory:"CTA Engagement",eventAction:"Hero CTA Click",eventLabel:"Close Google OTS"}),void r(!0);var o=e.isNotDisplayed(),a=e.getNotDisplayedReason();(o&&"suppressed_by_user"===a||o&&"opt_out_or_no_session"===a||o||t)&&r(!0)})))};(0,i.useEffect)((function(){!function(){var e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.id="googleGsiClient",e.defer=!0,e.async=!0,e.onload=c,document.head.appendChild(e)}()}),[]);var u=S;return a?t:(0,_.tZ)("div",{id:"google-one-tap-experiment",css:u,ref:n})};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=(0,i.createContext)({isLoading:!1,setIsLoading:function(){}}),j={name:"18ji2p4",styles:"width:300px"},D=function(e){var t=(0,i.useContext)(r.Z).global_or,n=(0,i.useState)(!1),o=n[0],a=n[1],s=(0,d.Z)("googleOneTap").isInVariant,l=(0,f.Z)().isMobile,c=(0,_.tZ)(y.Z,{buttonText:e.google_button_text,buttonTextClassName:e.google_button_text_class_notrans,buttonClassName:e.google_button_class_notrans});return(0,_.BX)(x,{id:"signupFormWithGoogleButton",children:[s?l?(0,_.BX)(_.HY,{children:[c,(0,_.tZ)(T,{fallbackComponent:null})]}):(0,_.tZ)(N.Provider,{value:{isLoading:o,setIsLoading:a},children:o?(0,_.tZ)("video",{src:"https://d3k2f0s3vqqs9o.cloudfront.net/media/0D15AD96-8C9C-4084-B0C54456EFA7EF06/FEC2416E-1D45-448A-BFDD6E0D20579F9C/80807116-4D7D-460D-AABB69EAEFE60BBD.mp4",autoPlay:!0,loop:!0,muted:!0,css:j}):(0,_.tZ)(T,{fallbackComponent:c})}):c,(0,_.tZ)("div",{className:"form-option",children:(0,_.tZ)(A,{children:t})}),(0,_.tZ)(w,P({},e))]})};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=(0,i.useContext)(r.Z),n={ctaSignupEmail:t.global_CTAcompleteSignup,ctaSignupTrial:t.global_CTAsignupTrial,ctaSignupWithoutFree:t.global_CTAsignupWithoutFree,ctaCompleteSignup:t.global_CTAcompleteSignup,emailPlaceholder:t.global_placeholderEmail,ctaSignupDomainInvalid:t.global_CTAsignupDomainInvalid,ctaSignupBadFormat:t.global_CTAsignupBadFormat,ctaSignupProgress:t.global_CTAsignupProgress,ctaSignupDomainClose:t.global_CTAsignupDomainClose,emailLabel:t.global_labelEmail,emailPasswordLabel:t.global_labelPassword,emailPasswordPlaceholder:t.global_placeholderPassword,ctaLoginEmail:t.global_CTAloginEmail,forgotPassword:t.global_forgotPassword},o=(0,b.ZP)();return!(0,a.Z)(o,1)[0]&&e.show_signup_google_button_notrans?(0,_.tZ)(D,L(L({},n),e)):(0,_.tZ)(w,L(L({},n),e))}},21435:function(e,t,n){n.d(t,{Hq:function(){return a},ZP:function(){return i},qb:function(){return r},wL:function(){return o}});var o="1032199425885-oq9scukspijc682n7k2erv386nc58que.apps.googleusercontent.com",a="/-/oauth2callback";function i(e){var t=[e.target_url,e.is_create?"create":"","https://asana.com",e.xsrf_token,e.opt_share_link_domain_id?e.opt_share_link_domain_id:"",e.opt_share_link_key?e.opt_share_link_key:""].join(" ");e.window.location.href=function(e,t,n){var o={redirect_uri:e,response_type:"code",client_id:"1032199425885-oq9scukspijc682n7k2erv386nc58que.apps.googleusercontent.com",scope:"profile email",state:t,prompt:"select_account",login_hint:n},a=[];return Object.keys(o).forEach((function(e){o[e]&&a.push(e+"="+encodeURIComponent(o[e]))})),"https://accounts.google.com/o/oauth2/auth?"+a.join("&")}(e.oauth_action_url,t,e.opt_google_email)}var r=function(e,t){var n=t.target_url,o=t.is_create,a=t.xsrf_token,i=t.id,r={state:[n,o?"create":"",n,a].join(" "),id:i,xsrf_token:a},s=Object.keys(r).map((function(e){if(r[e])return e+"="+encodeURIComponent(r[e])})).join("&");return"".concat(e,"?").concat(s)}}}]);