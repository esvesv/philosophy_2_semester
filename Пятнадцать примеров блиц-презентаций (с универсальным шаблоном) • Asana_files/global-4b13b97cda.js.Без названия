!function(){"use strict";var e=[],a=[];window.Levenshtein={get:function(t,n){var r,i,o,s,l,c,u=t.length,m=n.length;if(0===u)return m;if(0===m)return u;for(o=0;o<m;++o)e[o]=o,a[o]=n.charCodeAt(o);for(e[m]=m,o=0;o<u;++o){for(i=o+1,s=0;s<m;++s)r=i,c=t.charCodeAt(o)===a[s],(i=e[s]+(c?0:1))>(l=r+1)&&(i=l),i>(l=e[s+1]+1)&&(i=l),e[s]=r;e[s]=i}return i}}}();const AsanaTranslations={emailRegexFail:{en:"Something doesn't look right. Please check the email and try again",de:"Hier scheint etwas nicht zu stimmen. Bitte prüfen Sie Ihre E-Mail-Adresse und versuchen Sie es erneut.",es:"Al parecer, algo no está bien. Verifica tu email e intenta nuevamente.",fr:"Il semble y avoir une erreur. Veuillez vérifier votre adresse e-mail, puis réessayer.",id:"Sepertinya ada yang tidak beres. Harap periksa email tersebut dan coba lagi",it:"Sembra che ci sia un errore. Controlla l'indirizzo email e riprova",ja:"どこかに問題があるようです。メールアドレスを確認してもう一度試してください。",ko:"문제가 발생했습니다. 이메일을 확인하고 다시 시도하세요",nl:"Iets ziet er niet goed uit. Controleer het e-mailadres en probeer het opnieuw",pl:"Coś jest nie tak. Sprawdź adres e-mail i spróbuj ponownie.",pt:"Parece que algo não está correto. Verifique seu endereço de e-mail e tente novamente.",ru:"Что-то не так. Проверьте адрес электронной почты и попробуйте ещё раз",sv:"Något verkar ha gått fel. Kontrollera din e-postadress och försök igen","zh-tw":"似乎有地方出錯了。請檢查電子郵件，並再試一次。"},asanaTip:{en:"Asana Tip: ",de:"Asana-Tipp: ",es:"Consejo de Asana: ",fr:"Astuce Asana : ",id:"Kiat Asana: ",it:"Suggerimento di Asana: ",ja:"Asana ヒント: ",ko:"Asana 팁: ",nl:"Asana-tip: ",pl:"Wskazówka Asany: ",pt:"Dica da Asana: ",ru:"Совет Asana: ",sv:"Asana-tips: ","zh-tw":"Asana 提示："},getCurrentPageLanguage:function(){var e=window.location.pathname.split("/")[1];return["de","es","fr","id","it","ja","ko","nl","pl","pt","ru","sv","zh-tw"].indexOf(e)>-1?e:"en"},getLanguagePreference:function(){return AsanaStorage.getCookie("lang_pref")||null}},EMAIL_REGEX=/^([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/i;function isValidEmail(e){return EMAIL_REGEX.test(e)}const PERSONAL_DOMAINS=["126.com","163.com","1and1.com","aol.com","aol.it","att.net","bbox.fr","bellsouth.net","bigpond.com","bigpond.com.au","bigpond.net.au","bluewin.ch","btinternet.com","charter.net","comcast.net","cox.net","earthlink.net","email.com","excite.com","facebook.com","fastmail.fm","free.fr","freenet.de","front.ru","frontier.com","frontiernet.net","fuse.net","gmail.com","gmx.at","gmx.com","gmx.de","gmx.fr","gmx.li","gmx.net","googlemail.com","home.nl","home.no.net","home.ro","home.se","hotmail.be","hotmail.co.il","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.br","hotmail.com.mx","hotmail.de","hotmail.es","hotmail.fr","hotmail.it","hotmail.kg","hotmail.kz","hotmail.ru","icloud.com","inbox.com","inbox.ru","juno.com","laposte.net","libero.it","list.ru","live.be","live.ca","live.co.uk","live.com","live.com.ar","live.com.au","live.com.mx","live.de","live.fr","live.it","live.nl","livemail.tw","mac.com","mail.com","mail.ru","mailinator.com","me.com","mindspring.com","msn.com","netscape.net","netzero.net","neuf.fr","notmailinator.com","numericable.fr","orange.fr","outlook.com","outlook.com.br","pacbell.net","planet.nl","pobox.com","post.com","post.cz","prodigy.net","prodigy.net.mx","protonmail.com","qq.com","rediffmail.com","roadrunner.com","sbcglobal.net","sfr.fr","shaw.ca","sina.cn","sina.com","sinamail.com","sky.com","sky.com.br","sky.com.mx","skynet.be","spamarrest.com","spamfence.net","spamgourmet.com","t-online.de","telenet.be","telus.net","terra.com.br","tiscali.co.uk","tiscali.it","uol.com.br","usa.net","verizon.net","wanadoo.fr","web.de","windowslive.com","ya.ru","yahoo.ca","yahoo.co.id","yahoo.co.in","yahoo.co.jp","yahoo.co.kr","yahoo.co.nz","yahoo.co.uk","yahoo.com","yahoo.com.ar","yahoo.com.au","yahoo.com.br","yahoo.com.cn","yahoo.com.hk","yahoo.com.is","yahoo.com.mx","yahoo.com.ph","yahoo.com.ru","yahoo.com.sg","yahoo.de","yahoo.dk","yahoo.es","yahoo.fr","yahoo.ie","yahoo.in","yahoo.it","yahoo.jp","yahoo.ru","yahoo.se","yandex.com","yandex.ru","ymail.com","yopmail.com","yopmail.fr","zoho.com"];function isPersonalEmail(e){const a=e.split("@"),t=a[a.length-1];return PERSONAL_DOMAINS.includes(t)}var convNum=Math.floor(1e9*Math.random()),AsanaHelpers={generateNewXsrfToken:function(){return window.crypto&&window.crypto.getRandomValues&&window.Uint32Array?crypto.getRandomValues(new Uint32Array(4)).join("-"):function e(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()},getOrCreateXsrfToken:function(){var e=AsanaStorage.getCookie("xsrf_token");return e||(e=this.generateNewXsrfToken()),AsanaStorage.setCookie("xsrf_token",e,AsanaStorage.CATEGORY.NECESSARY,1/24,!0),e},appUrl:function(e,a){return void 0===e&&(e=""),a?a+=".":a="",window.location.hostname,"https://"+a+"app.asana.com"+e},asanaDotComUrl:function(e){void 0===e&&(e="");var a=AsanaTranslations.getCurrentPageLanguage();return"en"===a?e:"/"+a+e},specialPlatform:function(){var e=navigator.userAgent;return e.match(/(iPhone|iPod|iPad)/)?"ios":e.match(/Android|Pixel/)?"android":!!e.match(/MSIE/)&&"ie"},isMobilePlatform:function(){return"ios"===this.specialPlatform()||"android"===this.specialPlatform()},isLoggedIn:function(){return-1!==document.cookie.indexOf("is_logged_in")},updateAttributionCookie:function(){var e={source:document.referrer,query_string:document.location.search,exit_page:document.location.pathname,landing_page:document.location.pathname,useragent:navigator.userAgent,timestamp:Math.floor(Date.now()/1e3),convNum:convNum};if(AsanaStorage.getCookie("asana_orig_attr")?e.cookie=JSON.parse(AsanaStorage.getCookie("asana_orig_attr")):AsanaStorage.setCookie("asana_orig_attr",encodeURIComponent(JSON.stringify(e)),AsanaStorage.CATEGORY.PERFORMANCE,30,!0),AsanaStorage.getCookie("asana_attr")){var a=JSON.parse(AsanaStorage.getCookie("asana_attr"));a.exit_page=document.location.pathname,AsanaStorage.setCookie("asana_attr",encodeURIComponent(JSON.stringify(a)),AsanaStorage.CATEGORY.PERFORMANCE,1/24,!0)}else AsanaStorage.setCookie("asana_attr",encodeURIComponent(JSON.stringify(e)),AsanaStorage.CATEGORY.PERFORMANCE,1/24,!0)},isPremiumUser:function(e){(e.user_in_premium_domain||e.user_in_premium_team)&&(document.querySelectorAll(".visible-premium").forEach((function(e){e.style.display="block"})),document.querySelectorAll(".hidden-premium").forEach((function(e){e.style.display="none"})),window.sessionStorage.setItem("isPremium","1"))},setGlobalClasses:function(){"ios"===this.specialPlatform()&&document.querySelector("html").classList.add("device-ios"),"android"===this.specialPlatform()&&document.querySelector("html").classList.add("device-android"),this.isMobilePlatform()&&document.querySelector("html").classList.add("device-mobile"),this.isLoggedIn()&&(document.querySelector("html").classList.add("is-logged-in"),"1"==window.sessionStorage.isPremium?(document.querySelectorAll(".visible-premium").forEach((function(e){e.style.display="block"})),document.querySelectorAll(".hidden-premium").forEach((function(e){e.style.display="none"}))):AsanaAppUserInfo.get(this.isPremiumUser))},registerGTMClickEvents:{init:function(){for(var e=document.querySelectorAll("[data-gtm-events]"),a=0;a<e.length;a++){e[a].addEventListener("click",(function(){this.dataset.gtmEvents.split(",").forEach((function(e){console.log("tracking event",e),AsanaAnalytics.trackGTM(e)}))}))}}},setBackgroundScroll:function(e){void 0===e&&(e=document.querySelector("html").classList.contains("-no-scroll")),e?document.querySelector("html").classList.remove("-no-scroll"):document.querySelector("html").classList.add("-no-scroll")},showModal:function(e,a,t){AsanaHelpers.currentModal={name:e,element:()=>document.getElementById(e),opener:t,data:a||{}},AsanaHelpers.setBackgroundScroll(!1),window.location.hash=e},signupModal:{init:function(e){setTimeout((function(){var a=document.querySelector("#signup.modal .js-signup-button"),t=document.querySelectorAll("#signup.modal [data-modal-close]");if(a&&t){const n=AsanaHelpers.signupModal.getSignupClickHandler(e);a.addEventListener("click",n),t.forEach((function(e){e.addEventListener("click",(function(){a.removeEventListener("click",n)}))}))}}),1e3)},getSignupClickHandler:function(e){return function(a){a.preventDefault();try{var t=document.querySelector("#signup.modal .signupForm"),n=document.querySelector("#signup.modal .modal-container"),r=document.querySelectorAll("#signup.modal [data-modal-close]"),i=t.querySelector("input.signup-email");if(isValidEmail(i.value))e&&"pricing_basic_signup"===e.triggeredFrom?(AsanaHelpers.enterFreeSignupFlow(),AsanaHelpers.signupWithEmail(t,e)):(n.classList.add("premium-reminder-modal-transition"),AsanaSignupUtils.validateDomain.hasTriedInvalidDomain=!0,r.forEach((function(e){e.addEventListener("click",(function(){AsanaHelpers.enterFreeSignupFlow(),AsanaHelpers.signupWithEmail(t)}))})));else{var o=AsanaTranslations.getCurrentPageLanguage();i.setCustomValidity(AsanaTranslations.emailRegexFail[o]),i.reportValidity(),console.error("Email not validated because of function above but passed HTML validator."),i.addEventListener("input",(function e(){i.setCustomValidity(""),i.removeEventListener("input",e)}))}}catch(e){console.warn(e)}}}},currentModal:null,tier:{defaultTier:null,tierNamesById:{"tier-0-free":"free","tier-1-premium":"premium","tier-1plus-premium":"business","tier-2-enterprise":"enterprise"},getTierNameById:function(e){return this.tierNamesById[e]||null},getCurrentTier:function(){return AsanaStorage.getEcommerceConfig().tier||this.defaultTier},getCurrentTierName:function(){return this.getTierNameById(this.getCurrentTier())},setCurrentTier:function(e){this.tierNamesById[e]||null===e?AsanaStorage.updateEcommerceConfig((function(a){return a.tier=e,a})):window.AsanaErrors.notifyException(e+" is not a valid tierId","invalid setCurrentTier param")},setTierFree:function(){this.setCurrentTier("tier-0-free")},isTierFree:function(){return"tier-0-free"===this.getCurrentTier()},setTierPremium:function(){this.setCurrentTier("tier-1-premium")},isTierPremium:function(){return"tier-1-premium"===this.getCurrentTier()},setTierBusiness:function(){this.setCurrentTier("tier-1plus-premium")},isTierBusiness:function(){return"tier-1plus-premium"===this.getCurrentTier()},setTierDefault:function(){this.setCurrentTier(this.defaultTier)}},signupEmailType:{validEmailTypes:["personal","work"],getSignupEmailType:function(){return AsanaStorage.getEcommerceConfig().signup_email_type||null},setSignupEmailType:function(e){this.validEmailTypes.includes(e)?AsanaStorage.updateEcommerceConfig((function(a){return a.signup_email_type=e,a})):window.AsanaErrors.notifyException(e+" is not a valid signup email type","invalid setSignupEmailType param")},setSignupEmailTypePersonal:function(){this.setSignupEmailType("personal")},isSignupEmailTypePersonal:function(){return"personal"===this.getSignupEmailType()},setSignupEmailTypeWork:function(){this.setSignupEmailType("work")},isSignupEmailTypeWork:function(){return"work"===this.getSignupEmailType()}},billableGroupType:{CONFIG_KEY:"billable_group_type",validBillableGroupTypes:["","org","team","new_org","workspace"],setUsingEmail:function(e){isPersonalEmail(e)?this.setWorkspace():this.setNewOrg()},get:function(){return AsanaStorage.getEcommerceConfig()[this.CONFIG_KEY]},set:function(e){if(this.validBillableGroupTypes.includes(e)){var a=AsanaStorage.getEcommerceConfig();a[this.CONFIG_KEY]=e,AsanaStorage.setEcommerceConfig(a)}else window.AsanaErrors.notifyException(e+" is not a valid signup email type","invalid setBillableGroupType param")},setFullyPaid:function(){this.set("")},isFullyPaid:function(){return""===this.get()},setTypeOrg:function(){this.set("org")},isOrg:function(){return"org"===this.get()},setTeam:function(){this.set("team")},isTeam:function(){return"team"===this.get()},setNewOrg:function(){this.set("new_org")},isNewOrg:function(){return"new_org"===this.get()},setWorkspace:function(){this.set("workspace")},isWorkspace:function(){return"workspace"===this.get()}},trial:{isInTrialFlow:!0,setTrialDefault:function(){AsanaHelpers.trial.isInTrialFlow=!0},setTrialTrue:function(){AsanaHelpers.trial.isInTrialFlow=!0},setTrialFalse:function(){AsanaHelpers.trial.isInTrialFlow=!1}},enterFreeSignupFlow:function(){AsanaHelpers.trial.setTrialFalse(),AsanaHelpers.tier.setTierFree();var e=AsanaStorage.getEcommerceConfig();e.free_user=!0,e.is_trial="false",AsanaStorage.setEcommerceConfig(e)},recordPurchaseIntent:function(){AsanaHelpers.trial.setTrialFalse();var e=AsanaStorage.getEcommerceConfig();e.free_user=!1,e.is_purchase=!0,AsanaStorage.setEcommerceConfig(e)},recordTrialIntent:function(){AsanaHelpers.trial.setTrialTrue();var e=AsanaStorage.getEcommerceConfig();e.free_user=!1,e.is_trial="true",e.is_purchase=!1,AsanaStorage.setEcommerceConfig(e)},topbar:{hideInstance:function(e){var a=document.querySelector(e);a&&(a.classList.remove("-is-active"),a.setAttribute("aria-hidden",!0));var t=document.querySelector(".appDetailsHeader");t&&(t.style.paddingTop="")},init:function(){document.querySelectorAll(".topbar").forEach((function(e){if("cookies-topbar"!==e.id&&e.id&&"cookies-topbar"!==e.id){var a="#"+e.id,t=a+" .icon--x",n=e.getAttribute("data-topbar-name"),r=e.getAttribute("data-topbar-value");AsanaStorage.getCookie(n)&&AsanaHelpers.topbar.hideInstance(a),document.addEventListener("click",(function(e){e.target.matches(t)&&(AsanaStorage.setCookie(n,r,AsanaStorage.CATEGORY.FUNCTIONAL),AsanaHelpers.topbar.hideInstance(a))}))}}))}},getPageMetadata:function(){if(!AsanaHelpers._pageMetadata){var e={};if(document.querySelectorAll("[data-page-metadata]").forEach((function(a){try{var t=JSON.parse(a.textContent);Object.assign(e,t)}catch(e){console&&(console.error||console.log)("Could not parse page metadata: `"+a.textContent+"`")}})),"loading"===document.readyState)return e;AsanaHelpers._pageMetadata=e}return AsanaHelpers._pageMetadata},getUserSegment:function(){var e=AsanaHelpers.getPageMetadata();if(e.use_case_segment)return e.use_case_segment;var a={marketing:"marketing","product-managers":"product",designers:"design",engineering:"engineering",hr:"hr",it:"it"},t=function(e){for(var a=window.location.href,t=0;t<e.length;t++)if(a.indexOf("/teams/"+e[t])>-1)return e[t];return null}(Object.keys(a));return t?a[t]:""},getUserTemplate:function(){return AsanaHelpers.getPageMetadata().registered_with_use_case_template||""},showLoginModal:function(){if(this.isMobilePlatform())return window.location=AsanaHelpers.appUrl("/"),!1;if(AsanaHelpers.showModal("login"),!this.specialPlatform()){var e=document.querySelector("#login-email-login-modal");e&&e.focus()}},signupPreventedCallbacks:{personalEmailErrorCallback:function(){},invalidPartnershipErrorCallback:function(){},partnershipExistingUserSelfServeCallback:function(e){},partnershipExistingUserSelfServeBlockCallback:function(e){},partnershipNewUserSelfServeBlockCallback:function(e){}},signupWithEmail:function(e,a){var t=a&&a.isContentful,n=a&&a.partnershipChannel,r=a&&a.triggeredFrom,i=AsanaHelpers.getUrlParams.get("invite_ui_source"),o=AsanaHelpers.getUrlParams.get("login_target_url"),s=t?e.querySelector('input[type="text"]'):e.querySelector(".input--email"),l=s?s.value:"";if(AsanaAnalytics.trackSignupEventsInGtm.storeGtmSignupSubmissionData(),!t){if(!AsanaSignupUtils.validateDomain.validateEmailSuggestion(e))return;if(!isValidEmail(l))return void AsanaSignupUtils.validateDomain.showEmailFormatValidationError(e)}if(!t){var c=e.querySelector(".signupForm-submit");AsanaSignupUtils.signupButtons.request(c)}var u={email:l.trim(),xsrf_token:AsanaHelpers.getOrCreateXsrfToken(),extra:AsanaStorage.getCookie("asana_attr"),experiments:AsanaHelpers.getEnrolledExperiments(),seen_tos:!0,lang_pref:AsanaTranslations.getLanguagePreference(),ref_lang:AsanaTranslations.getCurrentPageLanguage(),registered_with_trial:AsanaHelpers.trial.isInTrialFlow.toString(),use_case_segment:AsanaHelpers.getUserSegment(),registered_with_use_case_template:AsanaHelpers.getUserTemplate(),buy_on_static_site_enabled:!AsanaHelpers.isMobilePlatform()};i&&(u.invite_ui_source=i),o&&(u.login_redirect_source=o),n&&(u.registered_with_channel=n),r&&(u.static_site_source=r);var m=AsanaHelpers.tier.getCurrentTierName();m?u.registered_with_tier=m:(AsanaHelpers.tier.defaultTier="tier-1-premium",AsanaHelpers.tier.setTierDefault(),u.registered_with_tier=AsanaHelpers.tier.getCurrentTierName());try{var p=AsanaHelpers.getUrlParams.get("utm_medium"),d=AsanaHelpers.getUrlParams.get("utm_source"),g=AsanaHelpers.getUrlParams.get("utm_campaign"),f={};p&&d&&g&&((f=JSON.parse(u.extra)).utm_medium=p,f.utm_source=d,f.utm_campaign=g,u.extra=JSON.stringify(f))}catch(e){console.error("Failed to add utm parameters to /-/signup.",e),window.AsanaErrors.notifyException(e)}var h=AsanaStorage.getEcommerceConfig();h.buy_on_static_site_enabled=!AsanaHelpers.isMobilePlatform(),h.is_trial=u.registered_with_trial,AsanaStorage.setEcommerceConfig(h);var A=new XMLHttpRequest;function y(e,a){a||AsanaSignupUtils.signupButtons.reset(),AsanaAnalytics.trackSignupEventsInGtm.init("SignupError","Error Couldnt Sign Up",e.status.toString()),AsanaHelpers.showModal("signup-failed"),AsanaHelpers.trial.setTrialDefault(),e.statusText?window.AsanaErrors.notifyException("Failed signup[refactored] - showing signup failed modal "+e.statusText):window.AsanaErrors.notifyException("Failed signup[refactored] - showing signup failed modal")}A.open("POST",AsanaHelpers.appUrl("/-/signup"),!0),A.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),A.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),A.timeout=3e4,A.withCredentials=!0,A.onload=function(){200===A.status?function(e,a,t,n){if(e.is_domain_creator&&(function(e){try{window.dataLayer.push(e)}catch(e){console.error(e,"Failed to push an event to the GTM data layer.")}}({event:"FreeTrialUgt",eventCategory:"Enrollment",eventAction:"Signup",eventLabel:"FreeTrialUgtTest"}),window.exp_freeTrialUgtIsInVariant))return window.AsanaHelpers.recordTrialIntent(),void window.AsanaHelpers.signupWithEmail(n);if(e.show_premium_reminder||e.is_domain_creator){return void document.querySelector("#signup.modal .modal-container").classList.add("premium-reminder-modal-transition")}const r=e.email_domain_provider;if(!t&&"invalid"===r)return AsanaSignupUtils.signupButtons.reset(),AsanaAnalytics.trackSignupEventsInGtm.init("SignupError","Error Invalid Email Domain","No Suggestion"),AsanaHelpers.showModal("signup-failed"),void AsanaHelpers.trial.setTrialDefault();if(a.registered_with_channel){if(e.email_blocked_by_channel)return AsanaAnalytics.trackSignupEventsInGtm.init("SignupError","Error partnership channel does not accept personal emails","No Suggestion"),window.AsanaErrors.notify("Failed partnership signup - user tried to sign up with personal email"),void AsanaHelpers.signupPreventedCallbacks.personalEmailErrorCallback();if(e.invalid_channel)return AsanaAnalytics.trackSignupEventsInGtm.init("SignupError","Error invalid partnership channel","No Suggestion"),window.AsanaErrors.notify("Failed partnership signup - invalid partnership channel"),void AsanaHelpers.signupPreventedCallbacks.invalidPartnershipErrorCallback()}var i=e.google_sso_required,o=e.saml_sso?e.saml_sso.state:null,s=e.saml_sso?e.saml_sso.sign_on_url:null;AsanaSignupUtils.setLoginWithSSOSAMLCookie(r,i,o,s);var c=e.billable_group_types_available_for_purchase;Array.isArray(c)&&(c[0]?AsanaHelpers.billableGroupType.set(c[0]):(AsanaHelpers.billableGroupType.setFullyPaid(),AsanaStorage.updateEcommerceConfig((function(e){return e.is_trial="false",e}))));AsanaStorage.getEcommerceConfig().buy_on_static_site_enabled||AsanaHelpers.billableGroupType.setUsingEmail(l);var u=e.encrypted_user_id;u&&(AsanaStorage.setEncryptedUserId(u),AsanaAnalytics.trackGTM({cd3:u}));"check-email"===e.status?e.user_is_new||!e.user_is_claimed?function(e,a){if(a.registered_with_channel&&!e.user_can_self_serve_channel)return void AsanaHelpers.signupPreventedCallbacks.partnershipNewUserSelfServeBlockCallback(a.email);!0===e.user_is_new&&(AsanaAnalytics.trackGTM("all_signup"),AsanaAnalytics.trackGTM("signup_with_email"));"true"===a.registered_with_trial&&AsanaAnalytics.trackGTM("trial_signup");e.is_personal_email?(AsanaHelpers.signupEmailType.setSignupEmailTypePersonal(),AsanaAnalytics.trackGTM("signup_with_personal_email")):(AsanaHelpers.signupEmailType.setSignupEmailTypeWork(),AsanaAnalytics.trackGTM("signup_with_work_email"));AsanaStorage.setUserEmailCookie(a.email),AsanaAnalytics.sendHashedEmailToGTM();var t=AsanaSignupUtils.getConfirmationPageRedirect();window.location.href=AsanaHelpers.asanaDotComUrl(t),window.location.hash=""}(e,a):function(e,a){if(AsanaAnalytics.trackGTM("existing_user_signup"),AsanaAnalytics.trackSignupEventsInGtm.init("SignupError","Existing User"),a.registered_with_channel)return e.user_can_self_serve_channel?void AsanaHelpers.signupPreventedCallbacks.partnershipExistingUserSelfServeCallback(a.email):void AsanaHelpers.signupPreventedCallbacks.partnershipExistingUserSelfServeBlockCallback(a.email);var t=window.location.search;window.location="https://app.asana.com/-/login"+t}(e,a):(AsanaSignupUtils.signupButtons.reset(),AsanaHelpers.showModal("signup-failed"),window.AsanaErrors.notify("Failed signup - request succeeded but responseData.status !== check-email - refactoredSignup"))}(JSON.parse(A.responseText),u,t,e):y(A,t)},A.onerror=function(){y(A,t)},A.send(function(e){var a="";for(var t in e)e.hasOwnProperty(t)&&(a.length>0&&(a+="&"),a+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return a}(u))},getEnrolledExperiments:function(){var e={};try{(window&&window.gaData?Object.keys(window.gaData):[]).forEach((function(a){var t=window.gaData[a]||{};for(var n in t.experiments)if(t.experiments.hasOwnProperty(n)){var r=parseInt(t.experiments[n],10);0===r?e[n]="disabled":1===r&&(e[n]="enabled")}}))}catch(e){window.AsanaErrors.notifyException(e)}return JSON.stringify(e)},startsWith:function(e,a){return 0===e.lastIndexOf(a,0)},endsWith:function(e,a){return-1!==e.indexOf(a,e.length-a.length)},loadEthnio:function(){var e=window.location.pathname,a=null;if("/"===e||"/product"===e||"/home"===e?a=45066:"/pricing"===e&&(a=50078),a&&!AsanaHelpers.specialPlatform()){var t=document.createElement("script");t.src="https://ethn.io/"+a+".js",document.head.appendChild(t)}},getHash:function(){return window.location.hash.substring(1)},getParameterByName:function(e,a){a||(a=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},getParamsFromUrlFragment:function(){var e={},a=location.hash.slice(1).split("&");if(1===a.length&&""===a[0])return"";for(var t=0;t<a.length;t++){var n=a[t].split("=");if(void 0===e[n[0]])e[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof e[n[0]]){var r=[e[n[0]],decodeURIComponent(n[1])];e[n[0]]=r}else e[n[0]].push(decodeURIComponent(n[1]))}return e},getUrlParams:{get:function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===a?a:decodeURIComponent(a[1].replace(/\+/g," "))},has:function(e){return Boolean(this.get(e))}},generateUrlWithParams:function(e,a){var t=e;t+="?";for(var n=0;n<a.length;n++)t+=encodeURIComponent(a[n].name),t+="=",t+=encodeURIComponent(a[n].value),n!==a.length-1&&(t+="&");return t},debug:{init:function(){var e="L".charCodeAt(0);document.body.addEventListener("keydown",(function(a){a.keyCode===e&&a.ctrlKey&&a.metaKey&&a.altKey&&AsanaHelpers.debug.toggleDebugMode()}))},toggleDebugMode:function(){document.documentElement.classList.toggle("-debug")}}};window.addEventListener("DOMContentLoaded",(function(){AsanaHelpers.setGlobalClasses()})),window.addEventListener("load",(function(){AsanaHelpers.topbar.init(),AsanaHelpers.debug.init(),AsanaHelpers.registerGTMClickEvents.init(),document.querySelectorAll(".section--contactForm input").forEach((function(e){e.setAttribute("autocomplete","on")})),AsanaStorage.getUserGeo().then(e=>{e?document.querySelector("body").classList.add("g-"+e.toLowerCase()):"local.asana.com"!==this.window.location.hostname&&this.fetch("/api/update-metric?"+new URLSearchParams({type:"increment",metric:"production.cookies.geoCookieNotSet",value:1}))}),document.querySelectorAll(".guide-article blockquote p").forEach((function(e){e.setAttribute("data-asanatip",AsanaTranslations.asanaTip[AsanaTranslations.getCurrentPageLanguage()])}))})),window.addEventListener("load",(function(){var e,a,t,n,r,i;window.twttr=(e=document,a="script",t="twitter-wjs",r=e.getElementsByTagName(a)[0],i=window.twttr||{},e.getElementById(t)||((n=e.createElement(a)).id=t,n.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(n,r),i._e=[],i.ready=function(e){i._e.push(e)}),i),AsanaStorage.getCookie("is_logged_in")&&dataLayer.push({logged_in:"yes"});try{AsanaHelpers.updateAttributionCookie()}catch(e){console.error("Failed to update attribution cookie.",e),window.AsanaErrors.notifyException(e)}if(void 0!==window.OptanonActiveGroups&&window.OptanonActiveGroups.includes(AsanaStorage.CATEGORY.FUNCTIONAL))try{AsanaHelpers.loadEthnio()}catch(e){console.error("Problem loading Ethnio",e),window.AsanaErrors.notifyException(e)}}));